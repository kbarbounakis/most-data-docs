<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>data-permission.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-theme.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccessDeniedException.html">AccessDeniedException</a></li><li><i class='ionicons ion-ios-minus'></i><a href="CalculatedValueListener.html">CalculatedValueListener</a><ul class='methods'><li data-type='method'><a href="CalculatedValueListener.html#beforeSave">beforeSave</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataAdapter.html">DataAdapter</a><ul class='methods'><li data-type='method'><a href="DataAdapter.html#close">close</a></li><li data-type='method'><a href="DataAdapter.html#createView">createView</a></li><li data-type='method'><a href="DataAdapter.html#execute">execute</a></li><li data-type='method'><a href="DataAdapter.html#executeBatch">executeBatch</a></li><li data-type='method'><a href="DataAdapter.html#executeInTransaction">executeInTransaction</a></li><li data-type='method'><a href="DataAdapter.html#open">open</a></li><li data-type='method'><a href="DataAdapter.html#selectIdentity">selectIdentity</a></li></ul></li><li><a href="DataAssociationMapping.html">DataAssociationMapping</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataCache.html">DataCache</a><ul class='methods'><li data-type='method'><a href="DataCache.html#add">add</a></li><li data-type='method'><a href="DataCache.html#emit">emit</a></li><li data-type='method'><a href="DataCache.html#ensure">ensure</a></li><li data-type='method'><a href="DataCache.html#get">get</a></li><li data-type='method'><a href="DataCache.html#init">init</a></li><li data-type='method'><a href="DataCache.html#remove">remove</a></li><li data-type='method'><a href="DataCache.html#removeAll">removeAll</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataCachingListener.html">DataCachingListener</a><ul class='methods'><li data-type='method'><a href="DataCachingListener.html#afterExecute">afterExecute</a></li><li data-type='method'><a href="DataCachingListener.html#beforeExecute">beforeExecute</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataConfiguration.html">DataConfiguration</a><ul class='methods'><li data-type='method'><a href="DataConfiguration.html#model">model</a></li></ul></li><li><a href="DataConfigurationAuth.html">DataConfigurationAuth</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataContext.html">DataContext</a><ul class='methods'><li data-type='method'><a href="DataContext.html#emit">emit</a></li><li data-type='method'><a href="DataContext.html#finalize">finalize</a></li><li data-type='method'><a href="DataContext.html#model">model</a></li></ul></li><li><a href="DataEventArgs.html">DataEventArgs</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataEventListener.html">DataEventListener</a><ul class='methods'><li data-type='method'><a href="DataEventListener.html#afterExecute">afterExecute</a></li><li data-type='method'><a href="DataEventListener.html#afterRemove">afterRemove</a></li><li data-type='method'><a href="DataEventListener.html#afterSave">afterSave</a></li><li data-type='method'><a href="DataEventListener.html#beforeExecute">beforeExecute</a></li><li data-type='method'><a href="DataEventListener.html#beforeRemove">beforeRemove</a></li><li data-type='method'><a href="DataEventListener.html#beforeSave">beforeSave</a></li></ul></li><li><a href="DataException.html">DataException</a></li><li><a href="DataField.html">DataField</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataFilterResolver.html">DataFilterResolver</a><ul class='methods'><li data-type='method'><a href="DataFilterResolver.html#all">all</a></li><li data-type='method'><a href="DataFilterResolver.html#asQueryable">asQueryable</a></li><li data-type='method'><a href="DataFilterResolver.html#base">base</a></li><li data-type='method'><a href="DataFilterResolver.html#cast">cast</a></li><li data-type='method'><a href="DataFilterResolver.html#clone">clone</a></li><li data-type='method'><a href="DataFilterResolver.html#convert">convert</a></li><li data-type='method'><a href="DataFilterResolver.html#dataviews">dataviews</a></li><li data-type='method'><a href="DataFilterResolver.html#field">field</a></li><li data-type='method'><a href="DataFilterResolver.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="DataFilterResolver.html#filter">filter</a></li><li data-type='method'><a href="DataFilterResolver.html#find">find</a></li><li data-type='method'><a href="DataFilterResolver.html#first">first</a></li><li data-type='method'><a href="DataFilterResolver.html#get">get</a></li><li data-type='method'><a href="DataFilterResolver.html#idOf">idOf</a></li><li data-type='method'><a href="DataFilterResolver.html#inferMapping">inferMapping</a></li><li data-type='method'><a href="DataFilterResolver.html#inferState">inferState</a></li><li data-type='method'><a href="DataFilterResolver.html#initialize">initialize</a></li><li data-type='method'><a href="DataFilterResolver.html#insert">insert</a></li><li data-type='method'><a href="DataFilterResolver.html#key">key</a></li><li data-type='method'><a href="DataFilterResolver.html#last">last</a></li><li data-type='method'><a href="DataFilterResolver.html#list">list</a></li><li data-type='method'><a href="DataFilterResolver.html#max">max</a></li><li data-type='method'><a href="DataFilterResolver.html#me">me</a></li><li data-type='method'><a href="DataFilterResolver.html#migrate">migrate</a></li><li data-type='method'><a href="DataFilterResolver.html#min">min</a></li><li data-type='method'><a href="DataFilterResolver.html#new">new</a></li><li data-type='method'><a href="DataFilterResolver.html#now">now</a></li><li data-type='method'><a href="DataFilterResolver.html#orderBy">orderBy</a></li><li data-type='method'><a href="DataFilterResolver.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="DataFilterResolver.html#recast">recast</a></li><li data-type='method'><a href="DataFilterResolver.html#remove">remove</a></li><li data-type='method'><a href="DataFilterResolver.html#save">save</a></li><li data-type='method'><a href="DataFilterResolver.html#select">select</a></li><li data-type='method'><a href="DataFilterResolver.html#silent">silent</a></li><li data-type='method'><a href="DataFilterResolver.html#skip">skip</a></li><li data-type='method'><a href="DataFilterResolver.html#take">take</a></li><li data-type='method'><a href="DataFilterResolver.html#today">today</a></li><li data-type='method'><a href="DataFilterResolver.html#update">update</a></li><li data-type='method'><a href="DataFilterResolver.html#where">where</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataModel.html">DataModel</a><ul class='methods'><li data-type='method'><a href="DataModel.html#all">all</a></li><li data-type='method'><a href="DataModel.html#asQueryable">asQueryable</a></li><li data-type='method'><a href="DataModel.html#base">base</a></li><li data-type='method'><a href="DataModel.html#cast">cast</a></li><li data-type='method'><a href="DataModel.html#clone">clone</a></li><li data-type='method'><a href="DataModel.html#convert">convert</a></li><li data-type='method'><a href="DataModel.html#dataviews">dataviews</a></li><li data-type='method'><a href="DataModel.html#emit">emit</a></li><li data-type='method'><a href="DataModel.html#field">field</a></li><li data-type='method'><a href="DataModel.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="DataModel.html#filter">filter</a></li><li data-type='method'><a href="DataModel.html#find">find</a></li><li data-type='method'><a href="DataModel.html#first">first</a></li><li data-type='method'><a href="DataModel.html#get">get</a></li><li data-type='method'><a href="DataModel.html#idOf">idOf</a></li><li data-type='method'><a href="DataModel.html#inferMapping">inferMapping</a></li><li data-type='method'><a href="DataModel.html#inferState">inferState</a></li><li data-type='method'><a href="DataModel.html#initialize">initialize</a></li><li data-type='method'><a href="DataModel.html#insert">insert</a></li><li data-type='method'><a href="DataModel.html#key">key</a></li><li data-type='method'><a href="DataModel.html#last">last</a></li><li data-type='method'><a href="DataModel.html#list">list</a></li><li data-type='method'><a href="DataModel.html#max">max</a></li><li data-type='method'><a href="DataModel.html#migrate">migrate</a></li><li data-type='method'><a href="DataModel.html#min">min</a></li><li data-type='method'><a href="DataModel.html#new">new</a></li><li data-type='method'><a href="DataModel.html#orderBy">orderBy</a></li><li data-type='method'><a href="DataModel.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="DataModel.html#recast">recast</a></li><li data-type='method'><a href="DataModel.html#remove">remove</a></li><li data-type='method'><a href="DataModel.html#save">save</a></li><li data-type='method'><a href="DataModel.html#select">select</a></li><li data-type='method'><a href="DataModel.html#silent">silent</a></li><li data-type='method'><a href="DataModel.html#skip">skip</a></li><li data-type='method'><a href="DataModel.html#take">take</a></li><li data-type='method'><a href="DataModel.html#update">update</a></li><li data-type='method'><a href="DataModel.html#where">where</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataModelBatch.html">DataModelBatch</a><ul class='methods'><li data-type='method'><a href="DataModelBatch.html#prepare">prepare</a></li></ul></li><li><a href="DataModelEventListener.html">DataModelEventListener</a></li><li><a href="DataModelMigration.html">DataModelMigration</a></li><li><a href="DataModelPrivilege.html">DataModelPrivilege</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataModelView.html">DataModelView</a><ul class='methods'><li data-type='method'><a href="DataModelView.html#cast">cast</a></li></ul></li><li><a href="DataNotFoundException.html">DataNotFoundException</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataObject.html">DataObject</a><ul class='methods'><li data-type='method'><a href="DataObject.html#attr">attr</a></li><li data-type='method'><a href="DataObject.html#attrOf">attrOf</a></li><li data-type='method'><a href="DataObject.html#emit">emit</a></li><li data-type='method'><a href="DataObject.html#getModel">getModel</a></li><li data-type='method'><a href="DataObject.html#idOf">idOf</a></li><li data-type='method'><a href="DataObject.html#is">is</a></li><li data-type='method'><a href="DataObject.html#property">property</a></li><li data-type='method'><a href="DataObject.html#query">query</a></li><li data-type='method'><a href="DataObject.html#remove">remove</a></li><li data-type='method'><a href="DataObject.html#save">save</a></li><li data-type='method'><a href="DataObject.html#selector">selector</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataObjectAssociationListener.html">DataObjectAssociationListener</a><ul class='methods'><li data-type='method'><a href="DataObjectAssociationListener.html#afterSave">afterSave</a></li><li data-type='method'><a href="DataObjectAssociationListener.html#beforeSave">beforeSave</a></li></ul></li><li><a href="DataObjectCachingListener.html">DataObjectCachingListener</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataObjectJunction.html">DataObjectJunction</a><ul class='methods'><li data-type='method'><a href="DataObjectJunction.html#add">add</a></li><li data-type='method'><a href="DataObjectJunction.html#all">all</a></li><li data-type='method'><a href="DataObjectJunction.html#alsoSelect">alsoSelect</a></li><li data-type='method'><a href="DataObjectJunction.html#and">and</a></li><li data-type='method'><a href="DataObjectJunction.html#asArray">asArray</a></li><li data-type='method'><a href="DataObjectJunction.html#average">average</a></li><li data-type='method'><a href="DataObjectJunction.html#between">between</a></li><li data-type='method'><a href="DataObjectJunction.html#bit">bit</a></li><li data-type='method'><a href="DataObjectJunction.html#cache">cache</a></li><li data-type='method'><a href="DataObjectJunction.html#ceil">ceil</a></li><li data-type='method'><a href="DataObjectJunction.html#clear">clear</a></li><li data-type='method'><a href="DataObjectJunction.html#clone">clone</a></li><li data-type='method'><a href="DataObjectJunction.html#concat">concat</a></li><li data-type='method'><a href="DataObjectJunction.html#contains">contains</a></li><li data-type='method'><a href="DataObjectJunction.html#count">count</a></li><li data-type='method'><a href="DataObjectJunction.html#countOf">countOf</a></li><li data-type='method'><a href="DataObjectJunction.html#data">data</a></li><li data-type='method'><a href="DataObjectJunction.html#divide">divide</a></li><li data-type='method'><a href="DataObjectJunction.html#endsWith">endsWith</a></li><li data-type='method'><a href="DataObjectJunction.html#equal">equal</a></li><li data-type='method'><a href="DataObjectJunction.html#expand">expand</a></li><li data-type='method'><a href="DataObjectJunction.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="DataObjectJunction.html#first">first</a></li><li data-type='method'><a href="DataObjectJunction.html#flatten">flatten</a></li><li data-type='method'><a href="DataObjectJunction.html#floor">floor</a></li><li data-type='method'><a href="DataObjectJunction.html#getDate">getDate</a></li><li data-type='method'><a href="DataObjectJunction.html#getDay">getDay</a></li><li data-type='method'><a href="DataObjectJunction.html#getFullYear">getFullYear</a></li><li data-type='method'><a href="DataObjectJunction.html#getHours">getHours</a></li><li data-type='method'><a href="DataObjectJunction.html#getMinutes">getMinutes</a></li><li data-type='method'><a href="DataObjectJunction.html#getMonth">getMonth</a></li><li data-type='method'><a href="DataObjectJunction.html#getSeconds">getSeconds</a></li><li data-type='method'><a href="DataObjectJunction.html#getYear">getYear</a></li><li data-type='method'><a href="DataObjectJunction.html#greaterOrEqual">greaterOrEqual</a></li><li data-type='method'><a href="DataObjectJunction.html#greaterThan">greaterThan</a></li><li data-type='method'><a href="DataObjectJunction.html#groupBy">groupBy</a></li><li data-type='method'><a href="DataObjectJunction.html#in">in</a></li><li data-type='method'><a href="DataObjectJunction.html#indexOf">indexOf</a></li><li data-type='method'><a href="DataObjectJunction.html#insert">insert</a></li><li data-type='method'><a href="DataObjectJunction.html#is">is</a></li><li data-type='method'><a href="DataObjectJunction.html#length">length</a></li><li data-type='method'><a href="DataObjectJunction.html#list">list</a></li><li data-type='method'><a href="DataObjectJunction.html#lowerOrEqual">lowerOrEqual</a></li><li data-type='method'><a href="DataObjectJunction.html#lowerThan">lowerThan</a></li><li data-type='method'><a href="DataObjectJunction.html#max">max</a></li><li data-type='method'><a href="DataObjectJunction.html#migrate">migrate</a></li><li data-type='method'><a href="DataObjectJunction.html#migrate">migrate</a></li><li data-type='method'><a href="DataObjectJunction.html#min">min</a></li><li data-type='method'><a href="DataObjectJunction.html#mod">mod</a></li><li data-type='method'><a href="DataObjectJunction.html#multiply">multiply</a></li><li data-type='method'><a href="DataObjectJunction.html#notContains">notContains</a></li><li data-type='method'><a href="DataObjectJunction.html#notEqual">notEqual</a></li><li data-type='method'><a href="DataObjectJunction.html#notIn">notIn</a></li><li data-type='method'><a href="DataObjectJunction.html#or">or</a></li><li data-type='method'><a href="DataObjectJunction.html#orderBy">orderBy</a></li><li data-type='method'><a href="DataObjectJunction.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="DataObjectJunction.html#prepare">prepare</a></li><li data-type='method'><a href="DataObjectJunction.html#remove">remove</a></li><li data-type='method'><a href="DataObjectJunction.html#round">round</a></li><li data-type='method'><a href="DataObjectJunction.html#select">select</a></li><li data-type='method'><a href="DataObjectJunction.html#silent">silent</a></li><li data-type='method'><a href="DataObjectJunction.html#skip">skip</a></li><li data-type='method'><a href="DataObjectJunction.html#startsWith">startsWith</a></li><li data-type='method'><a href="DataObjectJunction.html#substr">substr</a></li><li data-type='method'><a href="DataObjectJunction.html#subtract">subtract</a></li><li data-type='method'><a href="DataObjectJunction.html#sumOf">sumOf</a></li><li data-type='method'><a href="DataObjectJunction.html#take">take</a></li><li data-type='method'><a href="DataObjectJunction.html#thenBy">thenBy</a></li><li data-type='method'><a href="DataObjectJunction.html#thenByDescending">thenByDescending</a></li><li data-type='method'><a href="DataObjectJunction.html#title">title</a></li><li data-type='method'><a href="DataObjectJunction.html#toLocaleLowerCase">toLocaleLowerCase</a></li><li data-type='method'><a href="DataObjectJunction.html#toLocaleUpperCase">toLocaleUpperCase</a></li><li data-type='method'><a href="DataObjectJunction.html#toLowerCase">toLowerCase</a></li><li data-type='method'><a href="DataObjectJunction.html#toMD5">toMD5</a></li><li data-type='method'><a href="DataObjectJunction.html#toUpperCase">toUpperCase</a></li><li data-type='method'><a href="DataObjectJunction.html#trim">trim</a></li><li data-type='method'><a href="DataObjectJunction.html#value">value</a></li><li data-type='method'><a href="DataObjectJunction.html#where">where</a></li></ul></li><li><a href="DataPermissionEventArgs.html">DataPermissionEventArgs</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataPermissionEventListener.html">DataPermissionEventListener</a><ul class='methods'><li data-type='method'><a href="DataPermissionEventListener.html#beforeExecute">beforeExecute</a></li><li data-type='method'><a href="DataPermissionEventListener.html#beforeRemove">beforeRemove</a></li><li data-type='method'><a href="DataPermissionEventListener.html#beforeSave">beforeSave</a></li><li data-type='method'><a href="DataPermissionEventListener.html#validate">validate</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataQueryable.html">DataQueryable</a><ul class='methods'><li data-type='method'><a href="DataQueryable.html#add">add</a></li><li data-type='method'><a href="DataQueryable.html#all">all</a></li><li data-type='method'><a href="DataQueryable.html#alsoSelect">alsoSelect</a></li><li data-type='method'><a href="DataQueryable.html#and">and</a></li><li data-type='method'><a href="DataQueryable.html#asArray">asArray</a></li><li data-type='method'><a href="DataQueryable.html#average">average</a></li><li data-type='method'><a href="DataQueryable.html#between">between</a></li><li data-type='method'><a href="DataQueryable.html#bit">bit</a></li><li data-type='method'><a href="DataQueryable.html#cache">cache</a></li><li data-type='method'><a href="DataQueryable.html#ceil">ceil</a></li><li data-type='method'><a href="DataQueryable.html#clone">clone</a></li><li data-type='method'><a href="DataQueryable.html#concat">concat</a></li><li data-type='method'><a href="DataQueryable.html#contains">contains</a></li><li data-type='method'><a href="DataQueryable.html#count">count</a></li><li data-type='method'><a href="DataQueryable.html#countOf">countOf</a></li><li data-type='method'><a href="DataQueryable.html#data">data</a></li><li data-type='method'><a href="DataQueryable.html#divide">divide</a></li><li data-type='method'><a href="DataQueryable.html#endsWith">endsWith</a></li><li data-type='method'><a href="DataQueryable.html#equal">equal</a></li><li data-type='method'><a href="DataQueryable.html#expand">expand</a></li><li data-type='method'><a href="DataQueryable.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="DataQueryable.html#first">first</a></li><li data-type='method'><a href="DataQueryable.html#flatten">flatten</a></li><li data-type='method'><a href="DataQueryable.html#floor">floor</a></li><li data-type='method'><a href="DataQueryable.html#getDate">getDate</a></li><li data-type='method'><a href="DataQueryable.html#getDay">getDay</a></li><li data-type='method'><a href="DataQueryable.html#getFullYear">getFullYear</a></li><li data-type='method'><a href="DataQueryable.html#getHours">getHours</a></li><li data-type='method'><a href="DataQueryable.html#getMinutes">getMinutes</a></li><li data-type='method'><a href="DataQueryable.html#getMonth">getMonth</a></li><li data-type='method'><a href="DataQueryable.html#getSeconds">getSeconds</a></li><li data-type='method'><a href="DataQueryable.html#getYear">getYear</a></li><li data-type='method'><a href="DataQueryable.html#greaterOrEqual">greaterOrEqual</a></li><li data-type='method'><a href="DataQueryable.html#greaterThan">greaterThan</a></li><li data-type='method'><a href="DataQueryable.html#groupBy">groupBy</a></li><li data-type='method'><a href="DataQueryable.html#in">in</a></li><li data-type='method'><a href="DataQueryable.html#indexOf">indexOf</a></li><li data-type='method'><a href="DataQueryable.html#is">is</a></li><li data-type='method'><a href="DataQueryable.html#length">length</a></li><li data-type='method'><a href="DataQueryable.html#list">list</a></li><li data-type='method'><a href="DataQueryable.html#lowerOrEqual">lowerOrEqual</a></li><li data-type='method'><a href="DataQueryable.html#lowerThan">lowerThan</a></li><li data-type='method'><a href="DataQueryable.html#max">max</a></li><li data-type='method'><a href="DataQueryable.html#migrate">migrate</a></li><li data-type='method'><a href="DataQueryable.html#min">min</a></li><li data-type='method'><a href="DataQueryable.html#mod">mod</a></li><li data-type='method'><a href="DataQueryable.html#multiply">multiply</a></li><li data-type='method'><a href="DataQueryable.html#notContains">notContains</a></li><li data-type='method'><a href="DataQueryable.html#notEqual">notEqual</a></li><li data-type='method'><a href="DataQueryable.html#notIn">notIn</a></li><li data-type='method'><a href="DataQueryable.html#or">or</a></li><li data-type='method'><a href="DataQueryable.html#orderBy">orderBy</a></li><li data-type='method'><a href="DataQueryable.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="DataQueryable.html#prepare">prepare</a></li><li data-type='method'><a href="DataQueryable.html#round">round</a></li><li data-type='method'><a href="DataQueryable.html#select">select</a></li><li data-type='method'><a href="DataQueryable.html#silent">silent</a></li><li data-type='method'><a href="DataQueryable.html#skip">skip</a></li><li data-type='method'><a href="DataQueryable.html#startsWith">startsWith</a></li><li data-type='method'><a href="DataQueryable.html#substr">substr</a></li><li data-type='method'><a href="DataQueryable.html#subtract">subtract</a></li><li data-type='method'><a href="DataQueryable.html#sumOf">sumOf</a></li><li data-type='method'><a href="DataQueryable.html#take">take</a></li><li data-type='method'><a href="DataQueryable.html#thenBy">thenBy</a></li><li data-type='method'><a href="DataQueryable.html#thenByDescending">thenByDescending</a></li><li data-type='method'><a href="DataQueryable.html#title">title</a></li><li data-type='method'><a href="DataQueryable.html#toLocaleLowerCase">toLocaleLowerCase</a></li><li data-type='method'><a href="DataQueryable.html#toLocaleUpperCase">toLocaleUpperCase</a></li><li data-type='method'><a href="DataQueryable.html#toLowerCase">toLowerCase</a></li><li data-type='method'><a href="DataQueryable.html#toMD5">toMD5</a></li><li data-type='method'><a href="DataQueryable.html#toUpperCase">toUpperCase</a></li><li data-type='method'><a href="DataQueryable.html#trim">trim</a></li><li data-type='method'><a href="DataQueryable.html#value">value</a></li><li data-type='method'><a href="DataQueryable.html#where">where</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DataQueryableField.html">DataQueryableField</a><ul class='methods'><li data-type='method'><a href="DataQueryableField.html#as">as</a></li><li data-type='method'><a href="DataQueryableField.html#average">average</a></li><li data-type='method'><a href="DataQueryableField.html#count">count</a></li><li data-type='method'><a href="DataQueryableField.html#floor">floor</a></li><li data-type='method'><a href="DataQueryableField.html#getDate">getDate</a></li><li data-type='method'><a href="DataQueryableField.html#getDay">getDay</a></li><li data-type='method'><a href="DataQueryableField.html#getHours">getHours</a></li><li data-type='method'><a href="DataQueryableField.html#getMinutes">getMinutes</a></li><li data-type='method'><a href="DataQueryableField.html#getMonth">getMonth</a></li><li data-type='method'><a href="DataQueryableField.html#getSeconds">getSeconds</a></li><li data-type='method'><a href="DataQueryableField.html#getYear">getYear</a></li><li data-type='method'><a href="DataQueryableField.html#length">length</a></li><li data-type='method'><a href="DataQueryableField.html#max">max</a></li><li data-type='method'><a href="DataQueryableField.html#min">min</a></li><li data-type='method'><a href="DataQueryableField.html#round">round</a></li><li data-type='method'><a href="DataQueryableField.html#substr">substr</a></li><li data-type='method'><a href="DataQueryableField.html#toLocaleLowerCase">toLocaleLowerCase</a></li><li data-type='method'><a href="DataQueryableField.html#toLocaleUpperCase">toLocaleUpperCase</a></li><li data-type='method'><a href="DataQueryableField.html#toLowerCase">toLowerCase</a></li><li data-type='method'><a href="DataQueryableField.html#toUpperCase">toUpperCase</a></li><li data-type='method'><a href="DataQueryableField.html#trim">trim</a></li></ul></li><li><a href="DataResultSet.html">DataResultSet</a></li><li><i class='ionicons ion-ios-minus'></i><a href="DataStateValidatorListener.html">DataStateValidatorListener</a><ul class='methods'><li data-type='method'><a href="DataStateValidatorListener.html#beforeRemove">beforeRemove</a></li><li data-type='method'><a href="DataStateValidatorListener.html#beforeSave">beforeSave</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DefaultDataContext.html">DefaultDataContext</a><ul class='methods'><li data-type='method'><a href="DefaultDataContext.html#finalize">finalize</a></li><li data-type='method'><a href="DefaultDataContext.html#model">model</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="DefaultValueListener.html">DefaultValueListener</a><ul class='methods'><li data-type='method'><a href="DefaultValueListener.html#beforeSave">beforeSave</a></li></ul></li><li><a href="EmptyQueryExpression.html">EmptyQueryExpression</a></li><li><i class='ionicons ion-ios-minus'></i><a href="EventEmitter2.html">EventEmitter2</a><ul class='methods'><li data-type='method'><a href="EventEmitter2.html#emit">emit</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="FunctionContext.html">FunctionContext</a><ul class='methods'><li data-type='method'><a href="FunctionContext.html#int">int</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="HasManyAssociation.html">HasManyAssociation</a><ul class='methods'><li data-type='method'><a href="HasManyAssociation.html#add">add</a></li><li data-type='method'><a href="HasManyAssociation.html#all">all</a></li><li data-type='method'><a href="HasManyAssociation.html#alsoSelect">alsoSelect</a></li><li data-type='method'><a href="HasManyAssociation.html#and">and</a></li><li data-type='method'><a href="HasManyAssociation.html#asArray">asArray</a></li><li data-type='method'><a href="HasManyAssociation.html#average">average</a></li><li data-type='method'><a href="HasManyAssociation.html#between">between</a></li><li data-type='method'><a href="HasManyAssociation.html#bit">bit</a></li><li data-type='method'><a href="HasManyAssociation.html#cache">cache</a></li><li data-type='method'><a href="HasManyAssociation.html#ceil">ceil</a></li><li data-type='method'><a href="HasManyAssociation.html#clone">clone</a></li><li data-type='method'><a href="HasManyAssociation.html#concat">concat</a></li><li data-type='method'><a href="HasManyAssociation.html#contains">contains</a></li><li data-type='method'><a href="HasManyAssociation.html#count">count</a></li><li data-type='method'><a href="HasManyAssociation.html#countOf">countOf</a></li><li data-type='method'><a href="HasManyAssociation.html#data">data</a></li><li data-type='method'><a href="HasManyAssociation.html#divide">divide</a></li><li data-type='method'><a href="HasManyAssociation.html#endsWith">endsWith</a></li><li data-type='method'><a href="HasManyAssociation.html#equal">equal</a></li><li data-type='method'><a href="HasManyAssociation.html#expand">expand</a></li><li data-type='method'><a href="HasManyAssociation.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="HasManyAssociation.html#first">first</a></li><li data-type='method'><a href="HasManyAssociation.html#flatten">flatten</a></li><li data-type='method'><a href="HasManyAssociation.html#floor">floor</a></li><li data-type='method'><a href="HasManyAssociation.html#getDate">getDate</a></li><li data-type='method'><a href="HasManyAssociation.html#getDay">getDay</a></li><li data-type='method'><a href="HasManyAssociation.html#getFullYear">getFullYear</a></li><li data-type='method'><a href="HasManyAssociation.html#getHours">getHours</a></li><li data-type='method'><a href="HasManyAssociation.html#getMinutes">getMinutes</a></li><li data-type='method'><a href="HasManyAssociation.html#getMonth">getMonth</a></li><li data-type='method'><a href="HasManyAssociation.html#getSeconds">getSeconds</a></li><li data-type='method'><a href="HasManyAssociation.html#getYear">getYear</a></li><li data-type='method'><a href="HasManyAssociation.html#greaterOrEqual">greaterOrEqual</a></li><li data-type='method'><a href="HasManyAssociation.html#greaterThan">greaterThan</a></li><li data-type='method'><a href="HasManyAssociation.html#groupBy">groupBy</a></li><li data-type='method'><a href="HasManyAssociation.html#in">in</a></li><li data-type='method'><a href="HasManyAssociation.html#indexOf">indexOf</a></li><li data-type='method'><a href="HasManyAssociation.html#is">is</a></li><li data-type='method'><a href="HasManyAssociation.html#length">length</a></li><li data-type='method'><a href="HasManyAssociation.html#list">list</a></li><li data-type='method'><a href="HasManyAssociation.html#lowerOrEqual">lowerOrEqual</a></li><li data-type='method'><a href="HasManyAssociation.html#lowerThan">lowerThan</a></li><li data-type='method'><a href="HasManyAssociation.html#max">max</a></li><li data-type='method'><a href="HasManyAssociation.html#migrate">migrate</a></li><li data-type='method'><a href="HasManyAssociation.html#min">min</a></li><li data-type='method'><a href="HasManyAssociation.html#mod">mod</a></li><li data-type='method'><a href="HasManyAssociation.html#multiply">multiply</a></li><li data-type='method'><a href="HasManyAssociation.html#notContains">notContains</a></li><li data-type='method'><a href="HasManyAssociation.html#notEqual">notEqual</a></li><li data-type='method'><a href="HasManyAssociation.html#notIn">notIn</a></li><li data-type='method'><a href="HasManyAssociation.html#or">or</a></li><li data-type='method'><a href="HasManyAssociation.html#orderBy">orderBy</a></li><li data-type='method'><a href="HasManyAssociation.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="HasManyAssociation.html#prepare">prepare</a></li><li data-type='method'><a href="HasManyAssociation.html#round">round</a></li><li data-type='method'><a href="HasManyAssociation.html#select">select</a></li><li data-type='method'><a href="HasManyAssociation.html#silent">silent</a></li><li data-type='method'><a href="HasManyAssociation.html#skip">skip</a></li><li data-type='method'><a href="HasManyAssociation.html#startsWith">startsWith</a></li><li data-type='method'><a href="HasManyAssociation.html#substr">substr</a></li><li data-type='method'><a href="HasManyAssociation.html#subtract">subtract</a></li><li data-type='method'><a href="HasManyAssociation.html#sumOf">sumOf</a></li><li data-type='method'><a href="HasManyAssociation.html#take">take</a></li><li data-type='method'><a href="HasManyAssociation.html#thenBy">thenBy</a></li><li data-type='method'><a href="HasManyAssociation.html#thenByDescending">thenByDescending</a></li><li data-type='method'><a href="HasManyAssociation.html#title">title</a></li><li data-type='method'><a href="HasManyAssociation.html#toLocaleLowerCase">toLocaleLowerCase</a></li><li data-type='method'><a href="HasManyAssociation.html#toLocaleUpperCase">toLocaleUpperCase</a></li><li data-type='method'><a href="HasManyAssociation.html#toLowerCase">toLowerCase</a></li><li data-type='method'><a href="HasManyAssociation.html#toMD5">toMD5</a></li><li data-type='method'><a href="HasManyAssociation.html#toUpperCase">toUpperCase</a></li><li data-type='method'><a href="HasManyAssociation.html#trim">trim</a></li><li data-type='method'><a href="HasManyAssociation.html#value">value</a></li><li data-type='method'><a href="HasManyAssociation.html#where">where</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="HasOneAssociation.html">HasOneAssociation</a><ul class='methods'><li data-type='method'><a href="HasOneAssociation.html#add">add</a></li><li data-type='method'><a href="HasOneAssociation.html#all">all</a></li><li data-type='method'><a href="HasOneAssociation.html#alsoSelect">alsoSelect</a></li><li data-type='method'><a href="HasOneAssociation.html#and">and</a></li><li data-type='method'><a href="HasOneAssociation.html#asArray">asArray</a></li><li data-type='method'><a href="HasOneAssociation.html#average">average</a></li><li data-type='method'><a href="HasOneAssociation.html#between">between</a></li><li data-type='method'><a href="HasOneAssociation.html#bit">bit</a></li><li data-type='method'><a href="HasOneAssociation.html#cache">cache</a></li><li data-type='method'><a href="HasOneAssociation.html#ceil">ceil</a></li><li data-type='method'><a href="HasOneAssociation.html#clone">clone</a></li><li data-type='method'><a href="HasOneAssociation.html#concat">concat</a></li><li data-type='method'><a href="HasOneAssociation.html#contains">contains</a></li><li data-type='method'><a href="HasOneAssociation.html#count">count</a></li><li data-type='method'><a href="HasOneAssociation.html#countOf">countOf</a></li><li data-type='method'><a href="HasOneAssociation.html#data">data</a></li><li data-type='method'><a href="HasOneAssociation.html#divide">divide</a></li><li data-type='method'><a href="HasOneAssociation.html#endsWith">endsWith</a></li><li data-type='method'><a href="HasOneAssociation.html#equal">equal</a></li><li data-type='method'><a href="HasOneAssociation.html#expand">expand</a></li><li data-type='method'><a href="HasOneAssociation.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="HasOneAssociation.html#first">first</a></li><li data-type='method'><a href="HasOneAssociation.html#flatten">flatten</a></li><li data-type='method'><a href="HasOneAssociation.html#floor">floor</a></li><li data-type='method'><a href="HasOneAssociation.html#getDate">getDate</a></li><li data-type='method'><a href="HasOneAssociation.html#getDay">getDay</a></li><li data-type='method'><a href="HasOneAssociation.html#getFullYear">getFullYear</a></li><li data-type='method'><a href="HasOneAssociation.html#getHours">getHours</a></li><li data-type='method'><a href="HasOneAssociation.html#getMinutes">getMinutes</a></li><li data-type='method'><a href="HasOneAssociation.html#getMonth">getMonth</a></li><li data-type='method'><a href="HasOneAssociation.html#getSeconds">getSeconds</a></li><li data-type='method'><a href="HasOneAssociation.html#getYear">getYear</a></li><li data-type='method'><a href="HasOneAssociation.html#greaterOrEqual">greaterOrEqual</a></li><li data-type='method'><a href="HasOneAssociation.html#greaterThan">greaterThan</a></li><li data-type='method'><a href="HasOneAssociation.html#groupBy">groupBy</a></li><li data-type='method'><a href="HasOneAssociation.html#in">in</a></li><li data-type='method'><a href="HasOneAssociation.html#indexOf">indexOf</a></li><li data-type='method'><a href="HasOneAssociation.html#is">is</a></li><li data-type='method'><a href="HasOneAssociation.html#length">length</a></li><li data-type='method'><a href="HasOneAssociation.html#list">list</a></li><li data-type='method'><a href="HasOneAssociation.html#lowerOrEqual">lowerOrEqual</a></li><li data-type='method'><a href="HasOneAssociation.html#lowerThan">lowerThan</a></li><li data-type='method'><a href="HasOneAssociation.html#max">max</a></li><li data-type='method'><a href="HasOneAssociation.html#migrate">migrate</a></li><li data-type='method'><a href="HasOneAssociation.html#min">min</a></li><li data-type='method'><a href="HasOneAssociation.html#mod">mod</a></li><li data-type='method'><a href="HasOneAssociation.html#multiply">multiply</a></li><li data-type='method'><a href="HasOneAssociation.html#notContains">notContains</a></li><li data-type='method'><a href="HasOneAssociation.html#notEqual">notEqual</a></li><li data-type='method'><a href="HasOneAssociation.html#notIn">notIn</a></li><li data-type='method'><a href="HasOneAssociation.html#or">or</a></li><li data-type='method'><a href="HasOneAssociation.html#orderBy">orderBy</a></li><li data-type='method'><a href="HasOneAssociation.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="HasOneAssociation.html#prepare">prepare</a></li><li data-type='method'><a href="HasOneAssociation.html#round">round</a></li><li data-type='method'><a href="HasOneAssociation.html#select">select</a></li><li data-type='method'><a href="HasOneAssociation.html#silent">silent</a></li><li data-type='method'><a href="HasOneAssociation.html#skip">skip</a></li><li data-type='method'><a href="HasOneAssociation.html#startsWith">startsWith</a></li><li data-type='method'><a href="HasOneAssociation.html#substr">substr</a></li><li data-type='method'><a href="HasOneAssociation.html#subtract">subtract</a></li><li data-type='method'><a href="HasOneAssociation.html#sumOf">sumOf</a></li><li data-type='method'><a href="HasOneAssociation.html#take">take</a></li><li data-type='method'><a href="HasOneAssociation.html#thenBy">thenBy</a></li><li data-type='method'><a href="HasOneAssociation.html#thenByDescending">thenByDescending</a></li><li data-type='method'><a href="HasOneAssociation.html#title">title</a></li><li data-type='method'><a href="HasOneAssociation.html#toLocaleLowerCase">toLocaleLowerCase</a></li><li data-type='method'><a href="HasOneAssociation.html#toLocaleUpperCase">toLocaleUpperCase</a></li><li data-type='method'><a href="HasOneAssociation.html#toLowerCase">toLowerCase</a></li><li data-type='method'><a href="HasOneAssociation.html#toMD5">toMD5</a></li><li data-type='method'><a href="HasOneAssociation.html#toUpperCase">toUpperCase</a></li><li data-type='method'><a href="HasOneAssociation.html#trim">trim</a></li><li data-type='method'><a href="HasOneAssociation.html#value">value</a></li><li data-type='method'><a href="HasOneAssociation.html#where">where</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="HasParentJunction.html">HasParentJunction</a><ul class='methods'><li data-type='method'><a href="HasParentJunction.html#add">add</a></li><li data-type='method'><a href="HasParentJunction.html#all">all</a></li><li data-type='method'><a href="HasParentJunction.html#alsoSelect">alsoSelect</a></li><li data-type='method'><a href="HasParentJunction.html#and">and</a></li><li data-type='method'><a href="HasParentJunction.html#asArray">asArray</a></li><li data-type='method'><a href="HasParentJunction.html#average">average</a></li><li data-type='method'><a href="HasParentJunction.html#between">between</a></li><li data-type='method'><a href="HasParentJunction.html#bit">bit</a></li><li data-type='method'><a href="HasParentJunction.html#cache">cache</a></li><li data-type='method'><a href="HasParentJunction.html#ceil">ceil</a></li><li data-type='method'><a href="HasParentJunction.html#clone">clone</a></li><li data-type='method'><a href="HasParentJunction.html#concat">concat</a></li><li data-type='method'><a href="HasParentJunction.html#contains">contains</a></li><li data-type='method'><a href="HasParentJunction.html#count">count</a></li><li data-type='method'><a href="HasParentJunction.html#countOf">countOf</a></li><li data-type='method'><a href="HasParentJunction.html#data">data</a></li><li data-type='method'><a href="HasParentJunction.html#divide">divide</a></li><li data-type='method'><a href="HasParentJunction.html#endsWith">endsWith</a></li><li data-type='method'><a href="HasParentJunction.html#equal">equal</a></li><li data-type='method'><a href="HasParentJunction.html#expand">expand</a></li><li data-type='method'><a href="HasParentJunction.html#fieldOf">fieldOf</a></li><li data-type='method'><a href="HasParentJunction.html#first">first</a></li><li data-type='method'><a href="HasParentJunction.html#flatten">flatten</a></li><li data-type='method'><a href="HasParentJunction.html#floor">floor</a></li><li data-type='method'><a href="HasParentJunction.html#getDate">getDate</a></li><li data-type='method'><a href="HasParentJunction.html#getDay">getDay</a></li><li data-type='method'><a href="HasParentJunction.html#getFullYear">getFullYear</a></li><li data-type='method'><a href="HasParentJunction.html#getHours">getHours</a></li><li data-type='method'><a href="HasParentJunction.html#getMinutes">getMinutes</a></li><li data-type='method'><a href="HasParentJunction.html#getMonth">getMonth</a></li><li data-type='method'><a href="HasParentJunction.html#getSeconds">getSeconds</a></li><li data-type='method'><a href="HasParentJunction.html#getYear">getYear</a></li><li data-type='method'><a href="HasParentJunction.html#greaterOrEqual">greaterOrEqual</a></li><li data-type='method'><a href="HasParentJunction.html#greaterThan">greaterThan</a></li><li data-type='method'><a href="HasParentJunction.html#groupBy">groupBy</a></li><li data-type='method'><a href="HasParentJunction.html#in">in</a></li><li data-type='method'><a href="HasParentJunction.html#indexOf">indexOf</a></li><li data-type='method'><a href="HasParentJunction.html#insert">insert</a></li><li data-type='method'><a href="HasParentJunction.html#is">is</a></li><li data-type='method'><a href="HasParentJunction.html#length">length</a></li><li data-type='method'><a href="HasParentJunction.html#list">list</a></li><li data-type='method'><a href="HasParentJunction.html#lowerOrEqual">lowerOrEqual</a></li><li data-type='method'><a href="HasParentJunction.html#lowerThan">lowerThan</a></li><li data-type='method'><a href="HasParentJunction.html#max">max</a></li><li data-type='method'><a href="HasParentJunction.html#migrate">migrate</a></li><li data-type='method'><a href="HasParentJunction.html#min">min</a></li><li data-type='method'><a href="HasParentJunction.html#mod">mod</a></li><li data-type='method'><a href="HasParentJunction.html#multiply">multiply</a></li><li data-type='method'><a href="HasParentJunction.html#notContains">notContains</a></li><li data-type='method'><a href="HasParentJunction.html#notEqual">notEqual</a></li><li data-type='method'><a href="HasParentJunction.html#notIn">notIn</a></li><li data-type='method'><a href="HasParentJunction.html#or">or</a></li><li data-type='method'><a href="HasParentJunction.html#orderBy">orderBy</a></li><li data-type='method'><a href="HasParentJunction.html#orderByDescending">orderByDescending</a></li><li data-type='method'><a href="HasParentJunction.html#prepare">prepare</a></li><li data-type='method'><a href="HasParentJunction.html#remove">remove</a></li><li data-type='method'><a href="HasParentJunction.html#round">round</a></li><li data-type='method'><a href="HasParentJunction.html#select">select</a></li><li data-type='method'><a href="HasParentJunction.html#silent">silent</a></li><li data-type='method'><a href="HasParentJunction.html#skip">skip</a></li><li data-type='method'><a href="HasParentJunction.html#startsWith">startsWith</a></li><li data-type='method'><a href="HasParentJunction.html#substr">substr</a></li><li data-type='method'><a href="HasParentJunction.html#subtract">subtract</a></li><li data-type='method'><a href="HasParentJunction.html#sumOf">sumOf</a></li><li data-type='method'><a href="HasParentJunction.html#take">take</a></li><li data-type='method'><a href="HasParentJunction.html#thenBy">thenBy</a></li><li data-type='method'><a href="HasParentJunction.html#thenByDescending">thenByDescending</a></li><li data-type='method'><a href="HasParentJunction.html#title">title</a></li><li data-type='method'><a href="HasParentJunction.html#toLocaleLowerCase">toLocaleLowerCase</a></li><li data-type='method'><a href="HasParentJunction.html#toLocaleUpperCase">toLocaleUpperCase</a></li><li data-type='method'><a href="HasParentJunction.html#toLowerCase">toLowerCase</a></li><li data-type='method'><a href="HasParentJunction.html#toMD5">toMD5</a></li><li data-type='method'><a href="HasParentJunction.html#toUpperCase">toUpperCase</a></li><li data-type='method'><a href="HasParentJunction.html#trim">trim</a></li><li data-type='method'><a href="HasParentJunction.html#value">value</a></li><li data-type='method'><a href="HasParentJunction.html#where">where</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="NamedDataContext.html">NamedDataContext</a><ul class='methods'><li data-type='method'><a href="NamedDataContext.html#emit">emit</a></li><li data-type='method'><a href="NamedDataContext.html#finalize">finalize</a></li><li data-type='method'><a href="NamedDataContext.html#model">model</a></li></ul></li><li><i class='ionicons ion-ios-minus'></i><a href="NotNullConstraintListener.html">NotNullConstraintListener</a><ul class='methods'><li data-type='method'><a href="NotNullConstraintListener.html#beforeSave">beforeSave</a></li></ul></li><li><a href="NotNullException.html">NotNullException</a></li><li><a href="UniqueConstraintException.html">UniqueConstraintException</a></li><li><i class='ionicons ion-ios-minus'></i><a href="UniqueContraintListener.html">UniqueContraintListener</a><ul class='methods'><li data-type='method'><a href="UniqueContraintListener.html#beforeSave">beforeSave</a></li></ul></li></ul><h3>Modules</h3><ul><li><i class='ionicons ion-ios-minus'></i><a href="module-most-data.html">most-data</a><ul class='methods'><li data-type='method'><a href="module-most-data.html#.createContext">createContext</a></li><li data-type='method'><a href="module-most-data.html#.execute">execute</a></li><li data-type='method'><a href="module-most-data.html#.executeAs">executeAs</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="module-most-data.cfg.html">cfg</a></li><li><a href="module-most-data.classes.html">classes</a></li><li><a href="module-most-data.common.html">common</a></li></ul><h3>Global</h3><ul><li><a href="global.html#DataCachingType">DataCachingType</a></li><li><a href="global.html#DataObjectState">DataObjectState</a></li><li><a href="global.html#PermissionMask">PermissionMask</a></li><li><a href="global.html#PrivilegeType">PrivilegeType</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">data-permission.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * MOST Web Framework
 * A JavaScript Web Framework
 * http://themost.io
 * Created by Kyriakos Barbounakis&lt;k.barbounakis@gmail.com> on 2014-06-19.
 *
 * Copyright (c) 2014, Kyriakos Barbounakis k.barbounakis@gmail.com
 Anthi Oikonomou anthioikonomou@gmail.com
 All rights reserved.
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
 * Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.
 * Neither the name of MOST Web Framework nor the names of its
 contributors may be used to endorse or promote products derived from
 this software without specific prior written permission.
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * @private
 */
var util=require('util'),
    array = require('most-array'),
    qry = require('most-query'),
    async = require('async'),
    types = require('./types'),
    dataCache = require('./data-cache'),
    common = require('./data-common');

/**
 * @class
 * @constructor
 */
function DataPermissionEventArgs() {
    /**
     * The target data model
     * @type {DataModel}
     */
    this.model = null;
    /**
     * The underlying query expression
     * @type {QueryExpression}
     */
    this.query = null;
    /**
     * The permission mask
     * @type {Number}
     */
    this.mask = null;
    /**
     * The query type
     * @type {String}
     */
    this.type = null;
    /**
     * The query type
     * @type {String}
     */
    this.privilege = null;
    /**
     * The data queryable object that emits the event.
     * @type {DataQueryable|*}
     */
    this.emitter = null;
}
/**
 * An enumeration of the available permission masks
 * @enum {number}
 */
var PermissionMask = {
    /**
     * Read Access Mask (1)
     */
    Read:1,
    /**
     * Create Access Mask (2)
     */
    Create:2,
    /**
     * Update Access Mask (4)
     */
    Update:4,
    /**
     * Delete Access Mask (8)
     */
    Delete:8,
    /**
     * Execute Access Mask (16)
     */
    Execute:16,
    /**
     * Full Access Mask (31)
     */
    Owner:31
};

/**
 * @class
 * @constructor
 */
function DataPermissionEventListener() {
    //
}
/**
 * Occurs before creating or updating a data object.
 * @param {DataEventArgs} e - An object that represents the event arguments passed to this operation.
 * @param {Function} callback - A callback function that should be called at the end of this operation. The first argument may be an error if any occured.
 */
DataPermissionEventListener.prototype.beforeSave = function(e, callback)
{
    DataPermissionEventListener.prototype.validate(e, callback);
};
/**
 * Occurs before removing a data object.
 * @param {DataEventArgs} e - An object that represents the event arguments passed to this operation.
 * @param {Function} callback - A callback function that should be called at the end of this operation. The first argument may be an error if any occured.
 * @returns {DataEventListener}
 */
DataPermissionEventListener.prototype.beforeRemove = function(e, callback)
{
    DataPermissionEventListener.prototype.validate(e, callback);
};
/**
 * Validates permissions against the event arguments provided.
 * @param {DataEventArgs} e - An object that represents the event arguments passed to this operation.
 * @param {Function} callback - A callback function that should be called at the end of this operation. The first argument may be an error if any occured.
 */
DataPermissionEventListener.prototype.validate = function(e, callback) {
    var model = e.model,
        context = e.model.context,
        requestMask = 1,
        workspace = 1;
    //ensure silent operation
    if (e.model &amp;&amp; e.model.$silent) {
        callback();
        return;
    }
    if (e.state == 0)
        requestMask = PermissionMask.Read;
    else if (e.state==1)
        requestMask = PermissionMask.Create;
    else if (e.state==2)
        requestMask = PermissionMask.Update;
    else if (e.state==4)
        requestMask = PermissionMask.Delete;
    else if (e.state==16)
        requestMask = PermissionMask.Execute;
    else {
        callback(new Error('Target object has an invalid state.'));
        return;
    }
    //validate throwError
    if (typeof e.throwError === 'undefined')
        e.throwError = true;
    context.user = context.user || { name:'anonymous',authenticationType:'None' };
    //change: 2-May 2015
    //description: Use unattended execution account as an escape permission check account
    var cfg = require('./data-configuration');
    if (typeof cfg.current.auth !== 'undefined' || cfg.current.auth != null)
    {
        var unattendedExecutionAccount=cfg.current.auth.unattendedExecutionAccount;
        if ((typeof unattendedExecutionAccount !== 'undefined'
            || unattendedExecutionAccount != null)
            &amp;&amp; (unattendedExecutionAccount===context.user.name))
        {
            e.result = true;
            callback();
            return;
        }
    }
    //get user key
    var users = context.model('User'), permissions = context.model('Permission');
    if (typeof users=== 'undefined' || users===null) {
        //do nothing
        callback();
        return;
    }
    if (typeof permissions=== 'undefined' || permissions===null) {
        //do nothing
        callback();
        return;
    }

    effectiveAccounts(context, function(err, accounts) {
        if (err) { callback(err); return; }

        var permEnabled = model.privileges.filter(function(x) { return !x.disabled; }, model.privileges).length>0;
        //get all enabled privileges
        var privileges = model.privileges.filter(function(x) { return !x.disabled &amp;&amp; ((x.mask &amp; requestMask) == requestMask) });
        if (privileges.length==0) {
            if (e.throwError) {
                //if the target model has privileges but it has no privileges with the requested mask
                if (permEnabled) {
                    //throw error
                    var error = new Error('Access denied.');
                    error.status = 401;
                    callback(error);
                }
                else {
                    //do nothing
                    callback(null);
                }
            }
            else {
                //set result to false (or true if model has no privileges at all)
                e.result = !permEnabled;
                //and exit
                callback(null);
            }
        }
        else {
            var cancel = false;
            e.result = false;
            //enumerate privileges
            async.eachSeries(privileges, function(item, cb) {
                if (cancel) {
                    cb(null);
                    return;
                }
                //global
                if (item.type=='global') {
                    if (typeof item.account !== 'undefined') {
                        //check if a privilege is assigned by the model
                        if (item.account==='*') {
                            //get permission and exit
                            cancel=true;
                            e.result = true;
                            cb(null);
                            return;
                        }
                    }
                    //try to find user has global permissions assigned
                    permissions.where('privilege').equal(model.name).
                        and('parentPrivilege').equal(null).
                        and('target').equal('0').
                        and('workspace').equal(workspace).
                        and('account').in(accounts).
                        and('mask').bit(requestMask).silent().count(function(err, count) {
                            if (err) {
                                cb(err);
                            }
                            else {
                                if (count>=1) {
                                    cancel=true;
                                    e.result = true;
                                }
                                cb(null);
                            }
                        });
                }
                else if (item.type=='parent') {
                    var mapping = model.inferMapping(item.property);
                    if (!mapping) {
                        cb(null);
                        return;
                    }
                    if (requestMask==PermissionMask.Create) {
                        permissions.where('privilege').equal(mapping.childModel).
                            and('parentPrivilege').equal(mapping.parentModel).
                            and('target').equal(e.target[mapping.childField]).
                            and('workspace').equal(workspace).
                            and('account').in(accounts).
                            and('mask').bit(requestMask).silent().count(function(err, count) {
                                if (err) {
                                    cb(err);
                                }
                                else {
                                    if (count>=1) {
                                        cancel=true;
                                        e.result = true;
                                    }
                                    cb(null);
                                }
                            });
                    }
                    else {
                        //get original value
                        model.where(model.primaryKey).equal(e.target[model.primaryKey]).select(mapping.childField).first(function(err, result) {
                            if (err) {
                                cb(err);
                            }
                            else if (result) {
                                permissions.where('privilege').equal(mapping.childModel).
                                    and('parentPrivilege').equal(mapping.parentModel).
                                    and('target').equal(result[mapping.childField]).
                                    and('workspace').equal(workspace).
                                    and('account').in(accounts).
                                    and('mask').bit(requestMask).silent().count(function(err, count) {
                                        if (err) {
                                            cb(err);
                                        }
                                        else {
                                            if (count>=1) {
                                                cancel=true;
                                                e.result = true;
                                            }
                                            cb(null);
                                        }
                                    });
                            }
                            else {
                                cb(null);
                            }
                        });
                    }
                }
                else if (item.type=='item') {
                    //if target object is a new object
                    if (requestMask==PermissionMask.Create) {
                        //do nothing
                        cb(null); return;
                    }
                    permissions.where('privilege').equal(model.name).
                        and('parentPrivilege').equal(null).
                        and('target').equal(e.target[model.primaryKey]).
                        and('workspace').equal(workspace).
                        and('account').in(accounts).
                        and('mask').bit(requestMask).silent().count(function(err, count) {
                            if (err) {
                                cb(err);
                            }
                            else {
                                if (count>=1) {
                                    cancel=true;
                                    e.result = true;
                                }
                                cb(null);
                            }
                        });
                }
                else if (item.type=='self') {
                    if (requestMask==PermissionMask.Create) {
                        var query = qry.query(model.viewAdapter);
                        var fields=[], field;
                        //cast target
                        var name, obj = e.target;
                        model.attributes.forEach(function(x) {
                            name = obj.hasOwnProperty(x.property) ? x.property : x.name;
                            if (obj.hasOwnProperty(name))
                            {
                                var mapping = model.inferMapping(name);
                                if (typeof mapping === 'undefined' || mapping === null) {
                                    field = {};
                                    field[x.name] = { $value: obj[name] };
                                    fields.push(field);
                                }
                                else if ((mapping.associationType==='association') &amp;&amp; (mapping.childModel===model.name)) {
                                    if (typeof obj[name] === 'object') {
                                        //set associated key value (e.g. primary key value)
                                        field = {};
                                        field[x.name] = { $value: obj[name][mapping.parentField] };
                                        fields.push(field);
                                    }
                                    else {
                                        //set raw value
                                        field = {};
                                        field[x.name] = { $value: obj[name] };
                                        fields.push(field);
                                    }
                                }
                            }
                        });
                        //add fields
                        query.select(fields);
                        //set fixed query
                        query.$fixed = true;
                        model.filter(item.filter, function(err, q) {
                            if (err) {
                                cb(err);
                            }
                            else {
                                //set where from DataQueryable.query
                                query.$where = q.query.$prepared;
                                model.context.db.execute(query,null, function(err, result) {
                                    if (err) {
                                        cb(err);
                                    }
                                    else {
                                        if (result.length==1) {
                                            cancel=true;
                                            e.result = true;
                                        }
                                        cb(null);
                                    }
                                });
                            }
                        });
                    }
                    else {
                        //get privilege filter
                        model.filter(item.filter, function(err, q) {
                            if (err) {
                                cb(err);
                            }
                            else {
                                //prepare query and append primary key expression
                                q.where(model.primaryKey).equal(e.target[model.primaryKey]).silent().count(function(err, count) {
                                    if (err) { cb(err); return; }
                                    if (count>=1) {
                                        cancel=true;
                                        e.result = true;
                                    }
                                    cb(null);
                                })
                            }
                        });
                    }
                }
                else {
                    //do nothing (unknown permission)
                    cb(null);
                }

            }, function(err) {
                if (err) {
                    callback(err);
                }
                else {
                    if (e.throwError &amp;&amp; !e.result) {
                        var error = new types.AccessDeniedException();
                        callback(error);
                    }
                    else {
                        callback(null);
                    }
                }
            });
        }

    });
};
/**
 * @private
 * @type {string}
 */
var ANONYMOUS_USER_CACHE_PATH = '/User/anonymous';
/**
 * @param {DataContext} context
 * @param {function(Error=,*=)} callback
 * @private
 */
function anonymousUser(context, callback) {
    queryUser(context, 'anonymous', function(err, result) {
        if (err) {
            callback(err);
        }
        else {
            callback(null, result || { id:0, name:'anonymous', groups:[], enabled:false});
        }
    });
};
/**
 *
 * @param {DataContext} context
 * @param {string} username
 * @param {function(Error=,*=)} callback
 * @private
 */
function queryUser(context, username, callback) {
    try {
        if (typeof context === 'undefined' || context == null) {
            callback();
        }
        else {
            //get user key
            var users = context.model('User');
            if (typeof users === 'undefined' || users == null) {
                callback();
                return;
            }
            users.where('name').equal(username).silent().select(['id', 'name']).first(function(err, result) {
                if (err) {
                    callback(err);
                }
                else {
                    //if anonymous user was not found
                    if (typeof result === 'undefined' || result == null) {
                        callback();
                        return;
                    }
                    //get anonymous user object
                    var user = users.convert(result);
                    //get user groups
                    user.property('groups').select(['id', 'name']).silent().all(function(err, groups) {
                        if (err) {
                            callback(err);
                            return;
                        }
                        //set anonymous user groups
                        user.groups = groups || [];
                        //return user
                        callback(null, user);
                    });
                }
            });
        }
    }
    catch (e) {
        callback(e);
    }
};
/**
 * @param {DataContext} context
 * @param {function(Error=,Array=)} callback
 * @private
 */
function effectiveAccounts(context, callback) {
    if (typeof context === 'undefined' || context == null) {
        //push no account
        callback(null, [ 0 ]);
        return;
    }
    /**
     * Gets or sets an object that represents the user of the current data context.
     * @property {*|{name: string, authenticationType: string}}
     * @name DataContext#user
     * @memberof DataContext
     */
    context.user = context.user || { name:'anonymous',authenticationType:'None' };
    context.user.name = context.user.name || 'anonymous';
    //if the current user is anonymous
    if (context.user.name === 'anonymous') {
        //get anonymous user data
        dataCache.current.ensure(ANONYMOUS_USER_CACHE_PATH, function(cb) {
            anonymousUser(context, function(err, result) {
                cb(err, result);
            });
        }, function(err, result) {
            if (err) {
                callback(err);
            }
            else {
                var arr = [];
                if (result) {
                    arr.push(result.id);
                    result.groups = result.groups || [];
                    result.groups.forEach(function(x) { arr.push(x.id) });
                }
                if (arr.length==0)
                    arr.push(0);
                callback(null, arr);
            }
        });
    }
    else {
        //try to get data from cache
        var USER_CACHE_PATH = '/User/' + context.user.name;
        dataCache.current.ensure(USER_CACHE_PATH, function(cb) {
            queryUser(context, context.user.name, cb);
        }, function(err, user) {
            if (err) { callback(err); return; }
            dataCache.current.ensure(ANONYMOUS_USER_CACHE_PATH, function(cb) {
                anonymousUser(context, cb);
            }, function(err, anonymous) {
                if (err) { callback(err); return; }
                var arr = [ ];
                if (user) {
                    arr.push(user.id);
                    if (util.isArray(user.groups))
                        user.groups.forEach(function(x) { arr.push(x.id) });
                }
                if (anonymous) {
                    arr.push(anonymous.id);
                    if (util.isArray(anonymous.groups))
                        anonymous.groups.forEach(function(x) { arr.push(x.id) });
                }
                if (arr.length==0)
                    arr.push(0);
                callback(null, arr);
            });
        });
    }
};

/**
 * Occurs before executing a data operation.
 * @param {DataEventArgs} e - An object that represents the event arguments passed to this operation.
 * @param {Function} callback - A callback function that should be called at the end of this operation. The first argument may be an error if any occured.
 */
DataPermissionEventListener.prototype.beforeExecute = function(e, callback)
{
    if (typeof e.model==='undefined' || e.model==null) {
        callback();
        return;
    }
    //ensure silent query operation
    if (e.emitter &amp;&amp; e.emitter.$silent) {
        callback();
        return;
    }
    var model= e.model, context = e.model.context, requestMask = 1, workspace = 1, privilege = model.name, parentPrivilege=null;
    //get privilege from event arguments if it's defined (e.g. the operation requests execute permission User.ChangePassword where
    // privilege=ChangePassword and parentPrivilege=User)
    if (e.privilege) {
        //event argument is the privilege
        privilege = e.privilege;
        //and model is the parent privilege
        parentPrivilege = model.name;
    }
    //do not check permissions if the target model has no privileges defined
    if (model.privileges.filter(function(x) { return !x.disabled; }, model.privileges).length==0) {
        callback(null);
        return;
    }
    //infer permission mask
    if (typeof e.mask !== 'undefined') {
        requestMask = e.mask;
    }
    else {
        if (e.query) {
            //infer mask from query type
            if (e.query.$select)
            //read permissions
                requestMask=1;
            else if (e.query.$insert)
            //create permissions
                requestMask=2;
            else if (e.query.$update)
            //update permissions
                requestMask=4;
            else if (e.query.$delete)
            //delete permissions
                requestMask=8;
        }
    }
    //ensure context user
    context.user = context.user || { name:'anonymous',authenticationType:'None' };
    //change: 2-May 2015
    //description: Use unattended execution account as an escape permission check account
    var cfg = require('./data-configuration');
    if (typeof cfg.current.auth !== 'undefined' || cfg.current.auth != null)
    {
        var unattendedExecutionAccount=cfg.current.auth.unattendedExecutionAccount;
        if ((typeof unattendedExecutionAccount !== 'undefined'
            || unattendedExecutionAccount != null)
            &amp;&amp; (unattendedExecutionAccount===context.user.name))
        {
            callback();
            return;
        }
    }
    if (e.query) {

        //get user key
        var users = context.model('User'), permissions = context.model('Permission');
        if (typeof users=== 'undefined' || users===null) {
            //do nothing
            callback(null);
            return;
        }
        if (typeof permissions=== 'undefined' || permissions===null) {
            //do nothing
            callback(null);
            return;
        }
        //get model privileges
        var modelPrivileges = model.privileges || [];
        //if model has no privileges defined
        if (modelPrivileges.length==0) {
            //do nothing
            callback(null);
            //and exit
            return;
        }
        //tuning up operation
        //validate request mask permissions against all users privilege { mask:&lt;requestMask>,disabled:false,account:"*" }
        var allUsersPrivilege = modelPrivileges.find(function(x) {
            return (((x.mask &amp; requestMask)==requestMask) &amp;&amp; !x.disabled &amp;&amp; (x.account==='*'));
        });
        if (typeof allUsersPrivilege !== 'undefined') {
            //do nothing
            callback(null);
            //and exit
            return;
        }

        effectiveAccounts(context, function(err, accounts) {
            if (err) { callback(err); return; }
            //get all enabled privileges
            var privileges = modelPrivileges.filter(function(x) {
                return !x.disabled &amp;&amp; ((x.mask &amp; requestMask) == requestMask);
            });

            var cancel = false, assigned = false, entity = qry.entity(model.viewAdapter), expand = null,
                perms1 = qry.entity(permissions.viewAdapter).as('p0'), expr = null;
            async.eachSeries(privileges, function(item, cb) {
                if (cancel) {
                    cb(null);
                    return;
                }
                try {
                    if (item.type=='global') {
                        //check if a privilege is assigned by the model
                        if (item.account==='*') {
                            //get permission and exit
                            cancel=true;
                            assigned=true;
                            cb(null);
                            return;
                        }
                        //try to find user has global permissions assigned
                        permissions.where('privilege').equal(model.name).
                            and('parentPrivilege').equal(null).
                            and('target').equal('0').
                            and('workspace').equal(1).
                            and('account').in(accounts).
                            and('mask').bit(requestMask).silent().count(function(err, count) {
                                if (err) {
                                    cb(err);
                                }
                                else {
                                    if (count>=1) {
                                        cancel=true;
                                        assigned=true;
                                    }
                                    cb(null);
                                }
                            });
                    }
                    else if (item.type=='parent') {
                        //get field mapping
                        var mapping = model.inferMapping(item.property);
                        if (!mapping) {
                            cb(null);
                            return;
                        }
                        if (expr==null)
                            expr = qry.query();
                        expr.where(entity.select(mapping.childField)).equal(perms1.select('target')).
                            and(perms1.select('privilege')).equal(mapping.childModel).
                            and(perms1.select('parentPrivilege')).equal(mapping.parentModel).
                            and(perms1.select('workspace')).equal(workspace).
                            and(perms1.select('mask')).bit(requestMask).
                            and(perms1.select('account')).in(accounts).prepare(true);
                        assigned=true;
                        cb(null);
                    }
                    else if (item.type=='item') {
                        if (expr==null)
                            expr = qry.query();
                        expr.where(entity.select(model.primaryKey)).equal(perms1.select('target')).
                            and(perms1.select('privilege')).equal(model.name).
                            and(perms1.select('parentPrivilege')).equal(null).
                            and(perms1.select('workspace')).equal(workspace).
                            and(perms1.select('mask')).bit(requestMask).
                            and(perms1.select('account')).in(accounts).prepare(true);
                        assigned=true;
                        cb(null);
                    }
                    else if (item.type=='self') {
                        if (typeof item.filter === 'string' ) {
                            model.filter(item.filter, function(err, q) {
                                if (err) {
                                    cb(err);
                                }
                                else {
                                    if (q.query.$prepared) {
                                        if (expr==null)
                                            expr = qry.query();
                                        expr.$where = q.query.$prepared;
                                        if (q.query.$expand) { expand = q.query.$expand; }
                                        expr.prepare(true);
                                        assigned=true;
                                        cb(null);
                                    }
                                    else
                                        cb(null);
                                }
                            });
                        }
                        else {
                            cb(null);
                        }
                    }
                    else {
                        cb(null);
                    }
                }
                catch (e) {
                    cb(e);
                }
            }, function(err) {
                if (!err) {
                    if (!assigned) {
                        //prepare no access query
                        e.query.prepare();
                        //add no record parameter
                        e.query.where(e.model.fieldOf(e.model.primaryKey)).equal(null).prepare();
                    }
                    else if (expr) {
                        var q = qry.query(model.viewAdapter).select([model.primaryKey]).distinct();
                        if (expand) {
                            q.join(expand[0].$entity).with(expand[0].$with);
                        }
                        q.join(perms1).with(expr);
                        var pqAlias = 'pq' + common.randomInt(100000,999999).toString();
                        e.query.join(q.as(pqAlias)).with(qry.where(entity.select(model.primaryKey)).equal(qry.entity(pqAlias).select(model.primaryKey)));
                    }
                }
                callback(err);
            });

        });

    }
    else {
        callback(null);
    }
};

var perms = {
    DataPermissionEventArgs:DataPermissionEventArgs,
    DataPermissionEventListener:DataPermissionEventListener
};

if (typeof exports !== 'undefined') {
    module.exports = perms;
}

</code></pre>
        </article>
    </section>




</div>

<br class="clear">


<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/angular.min.js"></script>
<script src="scripts/angular-route.min.js"></script>
<script src="scripts/layout.js"></script>

</body>
</html>
